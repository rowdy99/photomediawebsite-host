<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Photo-media-website</title>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link href="https://www.w3schools.com/w3css/4/w3.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script crossorigin="anonymous" src="https://kit.fontawesome.com/3c78e2f7ea.js"></script>

    <style>
        body, h1, h2, h3, h4, h5, h6 {
            font-family: "Raleway", sans-serif
        }
        .logoutbtn{
            padding: 4px;
            margin-top: 10px;
        }


        body, html {
            height: 100%;
            line-height: 1.8;
        }
        .headings{
            font-family: 'Lobster', cursive;
            font-size: 8rem;
        }


        .bgimg-1 {
            background-position: center;
            background-size: cover;
            background-image: url("images/dark1.jpg");
            min-height: 100%;
        }

        .w3-bar .w3-button {
            padding: 16px;
        }
        .adminh1{
            margin-top: 20%;
            text-align: center;
        }

    </style>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/3.3.7/css/bootstrap.min.css}"/>
</head>
<body>
<div class="w3-top">
    <div class="w3-bar w3-white w3-card" id="myNavbar">
        <a class="w3-bar-item w3-button w3-wide" href="#home"><i class="fab fa-pinterest-p fa-3x"></i><i
                class="fab fa-meetup fa-3x"></i></a>
        <!-- Right-sided navbar links -->
        <div class="w3-right w3-hide-small">
            <ul class="nav navbar-nav">
                <li class="active"><a href="/"><i class="fa fa-home"></i>Home</a></li>
                <li sec:authorize="hasRole('ROLE_ADMIN')"><a href="/admin">Admin</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right"
                sec:authorize="!isAuthenticated()">
                <li><a href="/registrasi"><span
                        class="glyphicon glyphicon-user"></span> Sign Up</a></li>
                <li><a href="/login"><span
                        class="glyphicon glyphicon-log-in"></span> Login</a></li>
            </ul>
            <ul class="nav navbar-nav "
                sec:authorize="isAuthenticated()">
                <li class="dropdown"><a class="dropdown-toggle"
                                        data-toggle="dropdown" href="#" sec:authentication="name"><span
                        class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="/logout">Logout</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav navbar-nav "
                sec:authorize="isAuthenticated()">
                <ul>
                    <button type="button" class="logoutbtn btn-info"><a href="/logout">Logout</a></button>
                    <!--                            <li><a href="/logout">Logout</a></li>-->
                </ul>
            </ul>

            <!--			<a href="/" class="w3-bar-item w3-button"><i class="fa fa-home"></i>HOME</a>-->
            <a class="w3-bar-item w3-button" href="/images" th:href="@{/images}"><i class="fa fa-photo"></i> ALL
                IMAGES</a>
            <a class="w3-bar-item w3-button" href="#about"><i class="fa fa-about"></i>ABOUT</a>
            <a class="w3-bar-item w3-button" href="/uploadphoto" th:href="@{/uploadphoto}"><i
                    class="fa fa-upload"></i> UPLOAD PHOTO</a>
            <a class="w3-bar-item w3-button" href="/winer" th:href="@{/winer}"><i class="fa fa-trophy"></i>
                WINER ZONE</a>

            <a class="w3-bar-item w3-button" href="#work"><i class="fa fa-th"></i> WORK</a>
            <a class="w3-bar-item w3-button" href="#pricing"><i class="fa fa-usd"></i> PRICING</a>
            <a class="w3-bar-item w3-button" href="#contact"><i class="fa fa-envelope"></i> CONTACT</a>
        </div>
        <!-- Hide right-floated links on small screens and replace them with a menu icon -->

        <a class="w3-bar-item w3-button w3-right w3-hide-large w3-hide-medium" href="javascript:void(0)"
           onclick="w3_open()">
            <i class="fa fa-bars"></i>
        </a>
    </div>
</div>

<!-- Sidebar on small screens when clicking the menu icon -->
<nav class="w3-sidebar w3-bar-block w3-light w3-card w3-animate-left w3-hide-medium w3-hide-large"
     id="mySidebar" style="display:none">
    <a class="w3-bar-item w3-button w3-large w3-padding-16" href="javascript:void(0)" onclick="w3_close()">Close
        Ã—</a>
    <a class="w3-bar-item w3-button" href="#about" onclick="w3_close()">ABOUT</a>
    <a class="w3-bar-item w3-button" href="/images" th:href="@{/images}"><i class="fa fa-photo"></i> ALL IMAGES</a>

    <a class="w3-bar-item w3-button" href="/uploadphoto" th:href="@{/uploadphoto}"><i class="fa fa-upload"></i>
        UPLOAD PHOTO</a>
    <a class="w3-bar-item w3-button" href="/winer" th:href="@{/winer}"><i class="fa fa-trophy"></i>
        WINER ZONE</a>
    <a class="w3-bar-item w3-button" href="#team" onclick="w3_close()">TEAM</a>
    <a class="w3-bar-item w3-button" href="#work" onclick="w3_close()">WORK</a>
    <a class="w3-bar-item w3-button" href="#pricing" onclick="w3_close()">PRICING</a>
    <a class="w3-bar-item w3-button" href="#contact" onclick="w3_close()">CONTACT</a>
    <ul class="nav navbar-nav navbar-right"
        sec:authorize="!isAuthenticated()">
        <li><a href="/registrasi"><span
                class="glyphicon glyphicon-user"></span> Sign Up</a></li>
        <li><a href="/login"><span
                class="glyphicon glyphicon-log-in"></span> Login</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right"
        sec:authorize="isAuthenticated()">
        <li class="dropdown"><a class="dropdown-toggle"
                                data-toggle="dropdown" href="#" sec:authentication="name"><span
                class="caret"></span></a>
            <ul class="dropdown-menu">
                <li><a href="/logout">Logout</a></li>
            </ul>
        </li>
    </ul>
</nav>
<br>
<br>
<br>
<br>
<h1 class="headings text-center">Delete all images
    <a class="btn btn-danger text-right" href="/home">Go Home</a>
</h1>
<br><br>

<table class="table table-striped table-bordered text-center" id="example">
    <thead>
    <tr>
        <th>SR. No.</th>
        <th>Name</th>
        <th>Image</th>
        <th>Description</th>
        <th>Price</th>
        <th>Created date</th>
        <th>Action</th>
    </tr>
    </thead>
    <tbody th:with="count=0">
    <tr th:each="imageGallery, hh : ${images}">
        <td th:text="${count}" th:with="count=${count + 1}"></td>
        <td th:text="${imageGallery.name}"></td>
        <td><img alt=""
                 class="card img-fluid" style="width:300px" th:src="@{${'/image/display/'+ imageGallery.id}}"/></td>
        <td th:text="${imageGallery.description}"></td>
        <td th:text="${imageGallery.price}"></td>
        <td th:text="${#dates.format({imageGallery.createDate}, 'dd-MM-yyyy')}"/>
        </td>
        <td><a class="btn btn-info text-right"  th:href="@{/image/imageDetails(id=${imageGallery.id})}">View</a>
            <a type="button" th:href="'/deleteimages/'+${imageGallery.id}" class="btn btn-danger m-1">Delete</a>
        </td>
    </tr>
    </tbody>
</table>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('#example').DataTable();
    });


    // Modal Image Gallery
    function onClick(element) {
        document.getElementById("img01").src = element.src;
        document.getElementById("modal01").style.display = "block";
        var captionText = document.getElementById("caption");
        captionText.innerHTML = element.alt;
    }


    // Toggle between showing and hiding the sidebar when clicking the menu icon
    var mySidebar = document.getElementById("mySidebar");

    function w3_open() {
        if (mySidebar.style.display === 'block') {
            mySidebar.style.display = 'none';
        } else {
            mySidebar.style.display = 'block';
        }
    }

    // Close the sidebar with the close button
    function w3_close() {
        mySidebar.style.display = "none";
    }


</script>
<script th:src="@{/webjars/jquery/3.3.1/jquery.min.js}"></script>
<script th:src="@{/webjars/bootstrap/3.3.7/js/bootstrap.min.js}"></script>
</body>
</html>
